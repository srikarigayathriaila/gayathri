class Solution:
    def singleNumber(self, nums):
        # Step 1: XOR all numbers
        xor_val = 0
        for num in nums:
            xor_val ^= num
        # Step 2: Find rightmost set bit (difference bit)
        diff_bit = xor_val & -xor_val
        # Step 3: Divide numbers into two groups
        a = 0
        b = 0
        for num in nums:
            if num & diff_bit:
                a ^= num  # numbers with the bit set
            else:
                b ^= num  # numbers with the bit not set
        return [a, b]
